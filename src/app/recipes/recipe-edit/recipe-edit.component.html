<div class="container form-control p-4">
  <div class=" fs-4 text-center fw-bold ">{{editMode?'Edit ':'New '}}Recipe</div>
  <hr>
  <form (ngSubmit)="onSubmit()" [formGroup]="recipeForm">
    <div class="row mb-3">
      <div class="col-sm-12">
        <label for="name" class="form-label fw-bold">
          Recipe name
        </label>
        <input type="text" class="form-control rounded-pill" formControlName="name">
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-sm-12">
        <label for="imagePath" class="form-label fw-bold">
          Image URL
        </label>
        <input type="text" class="form-control rounded-pill" formControlName="url" #imgPath>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-sm-12">
        <img class="img-fluid w-50" [src]="imgPath.value">
      </div>
    </div>
    <div class="row mb-3 ">
      <div class="col-sm-12">
        <label for="description" class="form-label fw-bold">
          Description
        </label>
        <textarea type="text" class="form-control " rows="6" formControlName="description"></textarea>
      </div>
    </div>
    <div class="row mb-3 " formArrayName="ingredients">
      <div class="col-sm-12">
        <label for="description" class="form-label fw-bold">
          Ingredients:
        </label>
      </div>
      <div class="col-sm-12">
        <div class="row mb-3" *ngFor="let ingr of controls; let i = index"
          [formGroupName]="i">
          <div class="col-sm-8">
            <input type="text" class="form-control rounded-pill" formControlName="name">
          </div>
          <div class="col-sm-2">
            <input type="number" class="form-control rounded-pill" formControlName="amount">
          </div>
          <div class="col-sm-2">
            <button class="btn btn-danger rounded-circle" (click)="deleteIngredient(i)">X</button>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-sm-12">
            <button class="btn btn-success" type="button" (click)="addIngredient()"> Add Ingredient</button>
          </div>
        </div>
      </div>
    </div>
    <hr>
    <div class="row mb-3">
      <div class="col-sm-12">
        <button type="submit" class="btn btn-success me-2"[disabled]="!recipeForm.valid">Save</button>
        <button type="button" class="btn btn-danger me-2" (click)="onCancel()">Cancel</button>
      </div>
    </div>
  </form>
</div>
